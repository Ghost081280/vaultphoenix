<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover, maximum-scale=1.0, minimum-scale=1.0">
    <title>Vault Phoenix - AR Crypto Gaming</title>
    <link rel="icon" href="../images/VPLogoNoText.PNG" type="image/png">
    
    <!-- SPLIT CSS FILES FOR BETTER PERFORMANCE -->
    <link rel="stylesheet" href="shared.css">
    <link rel="stylesheet" href="login.css">
    
    <!-- Mobile Height Detection Script -->
    <script>
        // Set CSS custom property for real viewport height
        function setVH() {
            let vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
            document.documentElement.style.setProperty('--real-vh', `${window.innerHeight}px`);
        }
        
        // Set on load and resize
        window.addEventListener('load', setVH);
        window.addEventListener('resize', setVH);
        window.addEventListener('orientationchange', () => {
            setTimeout(setVH, 100);
        });
        
        // CRITICAL: Prevent zoom completely
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function (event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
        
        // Prevent pinch-to-zoom
        document.addEventListener('gesturestart', function (e) {
            e.preventDefault();
        });
        
        document.addEventListener('gesturechange', function (e) {
            e.preventDefault();
        });
        
        document.addEventListener('gestureend', function (e) {
            e.preventDefault();
        });
        
        // Prevent scrolling and zooming
        document.addEventListener('touchmove', function(e) {
            if (e.touches.length > 1) {
                e.preventDefault();
            }
        }, { passive: false });
        
        // Prevent double-tap zoom
        let lastTouch = 0;
        document.addEventListener('touchstart', function(e) {
            const now = Date.now();
            if (now - lastTouch <= 300) {
                e.preventDefault();
            }
            lastTouch = now;
        });
        
        // Force centering on load
        window.addEventListener('load', function() {
            const container = document.querySelector('.login-container');
            if (container) {
                container.style.margin = '0 auto';
                container.style.alignSelf = 'center';
            }
            
            // FORCE CENTER THE HELP LINK ON MOBILE
            const helpLink = document.querySelector('.forgot-password');
            if (helpLink) {
                helpLink.style.textAlign = 'center';
                helpLink.style.width = '100%';
                helpLink.style.display = 'flex';
                helpLink.style.justifyContent = 'center';
                helpLink.style.alignItems = 'center';
            }
        });
    </script>
</head>
<body class="crypto-login-page">
    <!-- CRYPTO GAME PROTECTION FLAG -->
    <div id="cryptoGameFlag" style="display: none;">CRYPTO_GAME_PAGE</div>
    
    <!-- Full screen floating background elements -->
    <div class="floating-elements">
        <div class="floating-coin floating-coin-1">
            <img src="../images/VPEmberCoin.PNG" alt="Ember Coin" class="floating-coin-image" onerror="this.style.display='none'">
        </div>
        <div class="floating-coin floating-coin-2">
            <img src="../images/VPEmberCoin.PNG" alt="Ember Coin" class="floating-coin-image" onerror="this.style.display='none'">
        </div>
        <div class="floating-coin floating-coin-3">
            <img src="../images/VPEmberCoin.PNG" alt="Ember Coin" class="floating-coin-image" onerror="this.style.display='none'">
        </div>
        <div class="floating-coin floating-coin-4">
            <img src="../images/VPEmberCoin.PNG" alt="Ember Coin" class="floating-coin-image" onerror="this.style.display='none'">
        </div>
        <div class="floating-coin floating-coin-5">
            <img src="../images/VPEmberCoin.PNG" alt="Ember Coin" class="floating-coin-image" onerror="this.style.display='none'">
        </div>
        <div class="floating-coin floating-coin-6">
            <img src="../images/VPEmberCoin.PNG" alt="Ember Coin" class="floating-coin-image" onerror="this.style.display='none'">
        </div>
    </div>

    <!-- Phoenix glow background effect -->
    <div class="phoenix-glow-bg"></div>

    <!-- PERFECTLY CENTERED LOGIN CONTAINER -->
    <div class="login-container">
        <div class="logo-section">
            <div class="app-logo">
                <img src="../images/VPLogoNoText.PNG" alt="Vault Phoenix Logo" class="logo-image" onerror="this.textContent='ðŸ”¥'">
                <div class="logo-glow"></div>
            </div>
            <h1 class="app-title">Vault Phoenix</h1>
            <p class="app-subtitle">AR Crypto Gaming</p>
        </div>

        <div class="demo-badge">
            <div class="demo-badge-title">
                <div class="demo-badge-icon">
                    <img src="../images/VPEmberCoin.PNG" alt="Ember Coin" class="demo-coin-icon" onerror="this.textContent='ðŸ’Ž'">
                </div>
                Demo Access - Real $Ember Tokens
            </div>
            <div class="demo-credentials">
                <strong>demo@vaultphoenix.com</strong><br>
                <strong>phoenix123</strong>
            </div>
        </div>

        <div id="errorMessage" class="error-message"></div>
        <div id="successMessage" class="success-message"></div>

        <form id="loginForm">
            <div class="form-group">
                <input 
                    type="email" 
                    id="email" 
                    class="form-input" 
                    placeholder="Email address"
                    autocomplete="email"
                    required
                >
                <div class="input-glow"></div>
                <div class="input-icon">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                        <polyline points="22,6 12,13 2,6"></polyline>
                    </svg>
                </div>
            </div>

            <div class="form-group">
                <input 
                    type="password" 
                    id="password" 
                    class="form-input" 
                    placeholder="Password"
                    autocomplete="current-password"
                    required
                >
                <div class="input-glow"></div>
                <div class="input-icon">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                        <circle cx="12" cy="16" r="1"></circle>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                    </svg>
                </div>
            </div>

            <button type="submit" class="login-button" id="loginBtn">
                <span class="button-glow"></span>
                <span id="loginText" class="login-text-content">
                    <span class="login-main-text">
                        <img src="../images/VPEmberFlame.svg" alt="Ember Flame" class="login-flame-icon" onerror="this.textContent='ðŸ”¥'">
                        START $EMBER HUNT
                    </span>
                    <span class="login-sub-text">Begin Your Adventure</span>
                </span>
            </button>
        </form>

        <div class="crypto-features">
            <div class="features-title">WHAT AWAITS YOU:</div>
            <div class="feature-item">
                <div class="feature-icon">
                    <img src="../images/VPEmberCoin.PNG" alt="Crypto Coin" class="feature-coin" onerror="this.textContent='ðŸ’Ž'">
                </div>
                <span class="feature-text">Hunt & Collect $Ember Tokens in AR</span>
            </div>
            <div class="feature-item">
                <div class="feature-icon">
                    <img src="../images/PhoenixSafe.PNG" alt="Safe" class="feature-safe" onerror="this.textContent='ðŸ”’'">
                </div>
                <span class="feature-text">Redeem at Partner Locations</span>
            </div>
            <div class="feature-item">
                <div class="feature-icon">
                    <img src="../images/EmberCoinMoneyBag.PNG" alt="Money Bag" class="feature-money" onerror="this.textContent='ðŸ’°'">
                </div>
                <span class="feature-text">Cash Out to Coinbase Wallet</span>
            </div>
        </div>
    </div>

    <!-- MOBILE-OPTIMIZED FORGOT PASSWORD LINK -->
    <div class="forgot-password">
        <a href="#" id="forgotPassword">Need help?</a>
    </div>

    <!-- ISOLATED CRYPTO GAME JAVASCRIPT - ONLY AFFECTS crypto-game/ FOLDER -->
    <script src="script.js"></script>
</body>
</html>
